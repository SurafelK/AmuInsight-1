{"ast":null,"code":"var _jsxFileName = \"/home/pemo/Documents/AmuInsight/client/src/Components/Login/signup.js\",\n    _s = $RefreshSig$();\n\nimport { Link } from 'react-router-dom';\nimport './sign.css';\nimport { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { register, reset } from '../features/auth/authSlice';\nimport Spinner from '../components/Spinner';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction SignUp() {\n  _s();\n\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    password: '',\n    password2: ''\n  });\n  const {\n    name,\n    email,\n    password,\n    password2\n  } = formData;\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const {\n    user,\n    isLoading,\n    isError,\n    isSuccess,\n    message\n  } = useSelector(state => state.auth);\n  useEffect(() => {\n    if (isError) {\n      toast.error(message);\n    }\n\n    if (isSuccess || user) {\n      navigate('/home');\n    }\n\n    dispatch(reset());\n  }, [user, isError, isSuccess, message, navigate, dispatch]);\n\n  const onChange = e => {\n    setFormData(prevState => ({ ...prevState,\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  const onSubmit = e => {\n    e.preventDefault();\n\n    if (password !== password2) {\n      toast.error('Passwords do not match');\n    } else {\n      const userData = {\n        name,\n        email,\n        password\n      };\n      dispatch(register(userData));\n    }\n  };\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"contatiner\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login_form\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Your best exam sharing\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Sign up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: onSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"name\",\n          name: \"name\",\n          value: name,\n          placeholder: \"Full Name\",\n          onChange: onChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          id: \"email\",\n          name: \"email\",\n          value: email,\n          placeholder: \"Email Address\",\n          onChange: onChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          id: \"password\",\n          name: \"password\",\n          value: password,\n          placeholder: \"Password\",\n          onChange: onChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          id: \"password2\",\n          name: \"password2\",\n          value: password2,\n          placeholder: \"Confirm Password\",\n          onChange: onChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/user/login\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Login instead  \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 3\n  }, this);\n}\n\n_s(SignUp, \"A2iUVjT5fqYSS9BQ7KlEq9N7yWM=\", false, function () {\n  return [useNavigate, useDispatch, useSelector];\n});\n\n_c = SignUp;\nexport default SignUp;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignUp\");","map":{"version":3,"names":["Link","useState","useEffect","useSelector","useDispatch","useNavigate","toast","register","reset","Spinner","SignUp","formData","setFormData","name","email","password","password2","navigate","dispatch","user","isLoading","isError","isSuccess","message","state","auth","error","onChange","e","prevState","target","value","onSubmit","preventDefault","userData"],"sources":["/home/pemo/Documents/AmuInsight/client/src/Components/Login/signup.js"],"sourcesContent":["import { Link } from 'react-router-dom';\r\nimport './sign.css';\r\nimport { useState, useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { toast } from 'react-toastify'\r\nimport { register, reset } from '../features/auth/authSlice'\r\nimport Spinner from '../components/Spinner'\r\n\r\nfunction SignUp(){\r\n\tconst [formData, setFormData] = useState({\r\n\t\tname:'', \r\n\t\temail:'', \r\n\t\tpassword:'', \r\n\t\tpassword2:''\r\n\t})\r\n\t\r\n\tconst { name, email, password, password2 } = formData\r\n\r\n\tconst navigate = useNavigate()\r\n\tconst dispatch = useDispatch()\r\n\r\n\tconst { user, isLoading, isError, isSuccess, message } = useSelector(\r\n\t(state) => state.auth\r\n\t)\r\n\r\n\tuseEffect(() => {\r\n\tif (isError) {\r\n\t\ttoast.error(message)\r\n\t}\r\n\r\n\tif (isSuccess || user) {\r\n\t\tnavigate('/home')\r\n\t}\r\n\r\n\tdispatch(reset())\r\n\t}, [user, isError, isSuccess, message, navigate, dispatch])\r\n\r\n\tconst onChange = (e) => {\r\n\t\tsetFormData((prevState) => ({\r\n\t\t\t...prevState,\r\n\t\t\t[e.target.name]: e.target.value,\r\n\t\t}))\r\n\t}\r\n\r\n\tconst onSubmit = (e) => {\r\n\te.preventDefault()\r\n\r\n\tif (password !== password2) {\r\n\t\ttoast.error('Passwords do not match')\r\n\t} else {\r\n\t\tconst userData = {\r\n\t\tname,\r\n\t\temail,\r\n\t\tpassword,\r\n\t\t}\r\n\r\n\t\tdispatch(register(userData))\r\n\t}\r\n\t}\r\n\r\n\tif (isLoading) {\r\n\treturn <Spinner />\r\n\t}\r\n\r\n\treturn(\r\n\t\t<div className=\"contatiner\">\r\n\t\t\t<div className =\"login_form\">\r\n\t\t\t\t<h1>Your best exam sharing</h1>\r\n\t\t\t\t<h2>Sign up</h2>\r\n\t\t\t\t<form onSubmit={onSubmit}>\r\n\t\t\t\t\t<input type=\"text\" id=\"name\" name=\"name\" value={name} placeholder=\"Full Name\" onChange={onChange} required/>\r\n\t\t\t\t\t<input type=\"email\" id=\"email\" name=\"email\" value={email} placeholder=\"Email Address\" onChange={onChange} required/>\r\n\t\t\t\t\t<input type=\"password\" id=\"password\" name=\"password\" value={password} placeholder=\"Password\" onChange={onChange} required/>\r\n\t\t\t\t\t<input type=\"password\" id=\"password2\" name=\"password2\" value={password2} placeholder=\"Confirm Password\" onChange={onChange} required/>\r\n\t\t\t\t\t<button type=\"submit\">next</button>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t\t<div className='row'>\r\n\t\t\t\t<Link to='/user/login'>\r\n\t\t\t\t\t<p>Login instead  </p>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\t\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default SignUp;"],"mappings":"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"},"metadata":{},"sourceType":"module"}