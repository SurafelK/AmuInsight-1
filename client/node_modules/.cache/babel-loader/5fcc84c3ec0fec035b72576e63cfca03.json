{"ast":null,"code":"import _defineProperty from\"/home/pemo/Documents/AmuInsight/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/pemo/Documents/AmuInsight/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/pemo/Documents/AmuInsight/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Link}from'react-router-dom';import'./sign.css';import{useState,useEffect}from'react';import{useSelector,useDispatch}from'react-redux';import{useNavigate}from'react-router-dom';import{toast}from'react-toastify';import{login,reset}from'../features/auth/authSlice';import Spinner from'../Spinner';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SignIn(){var _useState=useState({email:'',password:''}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var email=formData.email,password=formData.password;var navigate=useNavigate();var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.auth;}),user=_useSelector.user,isLoading=_useSelector.isLoading,isError=_useSelector.isError,isSuccess=_useSelector.isSuccess,message=_useSelector.message;useEffect(function(){if(isError){toast.error(message);}if(isSuccess||user){navigate('/home');}dispatch(reset());},[user,isError,isSuccess,message,navigate,dispatch]);var onChange=function onChange(e){setFormData(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},e.target.name,e.target.value));});};var onSubmit=function onSubmit(e){e.preventDefault();var userData={email:email,password:password};dispatch(login(userData));};if(isLoading){return/*#__PURE__*/_jsx(Spinner,{});}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"login_form\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"AMUINSIGHT\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Sign in\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Use your Email Account\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"column\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",value:email,onChange:onChange,placeholder:\"Email Address\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",value:password,onChange:onChange,placeholder:\"Password\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(Link,{to:\"/users\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Create Account \"})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"next\"})]})]})]})});}export default SignIn;","map":{"version":3,"names":["Link","useState","useEffect","useSelector","useDispatch","useNavigate","toast","login","reset","Spinner","SignIn","email","password","formData","setFormData","navigate","dispatch","state","auth","user","isLoading","isError","isSuccess","message","error","onChange","e","prevState","target","name","value","onSubmit","preventDefault","userData"],"sources":["/home/pemo/Documents/AmuInsight/client/src/Components/Login/signin.js"],"sourcesContent":["import { Link} from 'react-router-dom'\r\nimport './sign.css';\r\nimport { useState, useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { toast } from 'react-toastify'\r\nimport { login, reset } from '../features/auth/authSlice'\r\nimport Spinner from '../Spinner'\r\n\r\nfunction SignIn()\r\n{\r\n    const [formData, setFormData] = useState({\r\n\t\temail:'', \r\n\t\tpassword:'',\r\n\t})\r\n\t\r\n    const { email, password } = formData\r\n\r\n    const navigate = useNavigate()\r\n    const dispatch = useDispatch()\r\n  \r\n    const { user, isLoading, isError, isSuccess, message } = useSelector(\r\n      (state) => state.auth\r\n    )\r\n  \r\n    useEffect(() => {\r\n      if (isError) {\r\n        toast.error(message)\r\n      }\r\n  \r\n      if (isSuccess || user) {\r\n        navigate('/home')\r\n      }\r\n  \r\n      dispatch(reset())\r\n    }, [user, isError, isSuccess, message, navigate, dispatch])\r\n  \r\n    const onChange = (e) => {\r\n      setFormData((prevState) => ({\r\n        ...prevState,\r\n        [e.target.name]: e.target.value,\r\n      }))\r\n    }\r\n  \r\n    const onSubmit = (e) => {\r\n      e.preventDefault()\r\n  \r\n      const userData = {\r\n        email,\r\n        password,\r\n      }\r\n  \r\n      dispatch(login(userData))\r\n    }\r\n  \r\n    if (isLoading) {\r\n      return <Spinner />\r\n    }\r\n    return(\r\n        <div>\r\n            <div className =\"login_form\">\r\n                <h1>AMUINSIGHT</h1>\r\n                <h2>Sign in</h2>\r\n                <h3>Use your Email Account</h3>\r\n                <form onSubmit={onSubmit}>\r\n                  <div className='column'>\r\n                    <input type=\"email\" id=\"email\" name=\"email\" value={email} onChange={onChange} placeholder=\"Email Address\" required/>\r\n                    <input type=\"password\" id=\"password\" name=\"password\" value={password} onChange={onChange} placeholder=\"Password\" required/>\r\n                  </div> \r\n                  <div className='row'>\r\n                    <Link to='/users'>\r\n                        <p>Create Account </p>\r\n                    </Link>\r\n                    <button type=\"submit\">next</button>\r\n            </div>              \r\n                </form>\r\n            </div>\r\n            \r\n        </div>\r\n    );\r\n}\r\nexport default SignIn;"],"mappings":"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"},"metadata":{},"sourceType":"module"}