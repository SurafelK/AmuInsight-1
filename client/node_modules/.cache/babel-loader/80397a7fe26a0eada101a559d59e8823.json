{"ast":null,"code":"import _defineProperty from\"/home/pemo/Documents/AmuInsight/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/pemo/Documents/AmuInsight/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/pemo/Documents/AmuInsight/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Link}from'react-router-dom';import'./sign.css';import{useState,useEffect}from'react';import{useSelector,useDispatch}from'react-redux';import{useNavigate}from'react-router-dom';import{toast}from'react-toastify';import{register,reset}from'../features/auth/authSlice';import Spinner from'../Spinner';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SignUp(){var _useState=useState({name:'',email:'',password:'',password2:''}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var name=formData.name,email=formData.email,password=formData.password,password2=formData.password2;var navigate=useNavigate();var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.auth;}),user=_useSelector.user,isLoading=_useSelector.isLoading,isError=_useSelector.isError,isSuccess=_useSelector.isSuccess,message=_useSelector.message;useEffect(function(){if(isError){toast.error(message);}if(isSuccess||user){navigate('/home');}dispatch(reset());},[user,isError,isSuccess,message,navigate,dispatch]);var onChange=function onChange(e){setFormData(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},e.target.name,e.target.value));});};var onSubmit=function onSubmit(e){e.preventDefault();if(password!==password2){toast.error('Passwords do not match');}else{var userData={name:name,email:email,password:password};dispatch(register(userData));}};if(isLoading){return/*#__PURE__*/_jsx(Spinner,{});}return/*#__PURE__*/_jsxs(\"div\",{className:\"contatiner\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"login_form\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Your best exam sharing\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Sign up\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"column\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"name\",value:name,placeholder:\"Full Name\",onChange:onChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",value:email,placeholder:\"Email Address\",onChange:onChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",value:password,placeholder:\"Password\",onChange:onChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password2\",name:\"password2\",value:password2,placeholder:\"Confirm Password\",onChange:onChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(Link,{to:\"/users/login\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Login instead  \"})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"next\"})]})]})]});}export default SignUp;","map":{"version":3,"names":["Link","useState","useEffect","useSelector","useDispatch","useNavigate","toast","register","reset","Spinner","SignUp","name","email","password","password2","formData","setFormData","navigate","dispatch","state","auth","user","isLoading","isError","isSuccess","message","error","onChange","e","prevState","target","value","onSubmit","preventDefault","userData"],"sources":["/home/pemo/Documents/AmuInsight/client/src/Components/Login/signup.js"],"sourcesContent":["import { Link } from 'react-router-dom';\r\nimport './sign.css';\r\nimport { useState, useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { toast } from 'react-toastify'\r\nimport { register, reset } from '../features/auth/authSlice'\r\nimport Spinner from '../Spinner'\r\n\r\nfunction SignUp(){\r\n\tconst [formData, setFormData] = useState({\r\n\t\tname:'', \r\n\t\temail:'', \r\n\t\tpassword:'', \r\n\t\tpassword2:''\r\n\t})\r\n\t\r\n\tconst { name, email, password, password2 } = formData\r\n\r\n\tconst navigate = useNavigate()\r\n\tconst dispatch = useDispatch()\r\n\r\n\tconst { user, isLoading, isError, isSuccess, message } = useSelector(\r\n\t(state) => state.auth\r\n\t)\r\n\r\n\tuseEffect(() => {\r\n\tif (isError) {\r\n\t\ttoast.error(message)\r\n\t}\r\n\r\n\tif (isSuccess || user) {\r\n\t\tnavigate('/home')\r\n\t}\r\n\r\n\tdispatch(reset())\r\n\t}, [user, isError, isSuccess, message, navigate, dispatch])\r\n\r\n\tconst onChange = (e) => {\r\n\t\tsetFormData((prevState) => ({\r\n\t\t\t...prevState,\r\n\t\t\t[e.target.name]: e.target.value,\r\n\t\t}))\r\n\t}\r\n\r\n\tconst onSubmit = (e) => {\r\n\t\te.preventDefault()\r\n\r\n\t\tif (password !== password2) {\r\n\t\t\ttoast.error('Passwords do not match')\r\n\t\t} else {\r\n\t\t\tconst userData = {\r\n\t\t\tname,\r\n\t\t\temail,\r\n\t\t\tpassword,\r\n\t\t\t}\r\n\t\t\tdispatch(register(userData))\r\n\t\t}\r\n\t}\r\n\r\n\tif (isLoading) {\r\n\t\treturn <Spinner />\r\n\t}\r\n\r\n\treturn(\r\n\t\t<div className=\"contatiner\">\r\n\t\t\t<div className =\"login_form\">\r\n\t\t\t\t<h1>Your best exam sharing</h1>\r\n\t\t\t\t<h2>Sign up</h2>\r\n\t\t\t</div>\r\n\t\t\t<form onSubmit={onSubmit}>\r\n\t\t\t\t<div className='column'>\r\n\t\t\t\t\t<input type=\"text\" id=\"name\" name=\"name\" value={name} placeholder=\"Full Name\" onChange={onChange} required/>\r\n\t\t\t\t\t<input type=\"email\" id=\"email\" name=\"email\" value={email} placeholder=\"Email Address\" onChange={onChange} required/>\r\n\t\t\t\t\t<input type=\"password\" id=\"password\" name=\"password\" value={password} placeholder=\"Password\" onChange={onChange} required/>\r\n\t\t\t\t\t<input type=\"password\" id=\"password2\" name=\"password2\" value={password2} placeholder=\"Confirm Password\" onChange={onChange} required/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='row'>\r\n\t\t\t\t\t<Link to='/users/login'>\r\n\t\t\t\t\t\t<p>Login instead  </p>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<button type=\"submit\">next</button>\r\n\t\t\t\t</div>\t\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default SignUp;"],"mappings":"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"},"metadata":{},"sourceType":"module"}